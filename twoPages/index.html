<!doctype html>
<html>
  <head>
  <meta charset="utf-8">
  <title>无标题文档</title>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
    <title></title>
    <link rel="stylesheet" type="text/css" href="style/hc.css"/>
    <script type="text/javascript" src="javascript/jquery.min.js"></script>            
    <script>
      $(function (){
        grayTd();
        var data=JSON.parse('{"response":[{"gh":"001","name":"薛敬德","shfb":"装备解决方案1部"},{"gh":"002","name":"陈少波","shfb":"装备解决方案2部"},{"gh":"003","name":"林星","shfb":"装备解决方案3部"}]}');
        $('.hidPage').hide();
        $('.tianjia').click(function(){
          $('.hidPage').toggle();
        });
        $('.xzkRowBox').click(function(){
          if($(this).is(':checked')){
            let renyuan=$(this).siblings('.renyuan').text().trim();
            let exitHtml=$('.yxk').html();
            $('.yxk').html(exitHtml+'<div class="yxkRow"><span class="renyuan">'+renyuan+'</span></div>');
          }else{
            for (let i = 0; i < $('.yxkRow').length; i++) {
              let renyuan=$(this).siblings('.renyuan').text().trim();
              let yxkRen=$('.yxkRow').eq(i).text().trim();
              if(renyuan==yxkRen){
                $('.yxkRow').eq(i).remove();
              }
            }
          };
        });
      $('.queding').click(function(){
        $('.hidPage').hide();
        $('.xzkRowBox').attr("checked",false);
        for (let i = 0; i < $('.yxkRow').length; i++) {
          let a=$('.yxkRow').eq(i).text().trim();
          for (let j = 0; j <data['response'].length; j++) {
            let name=data['response'][j]['name'].trim();
            let gh=data['response'][j]['gh'];
            let shfb=data['response'][j]['shfb'];
            let xiala=$(".selectCity option:selected").text();
            let exitName=$('.tdName').text().trim();
            if(a==name){
              var cfgh="";
              if(exitName.indexOf(name)==-1){
                  let exitTab=$('.pageTab tbody').html();
                  $('.pageTab tbody').html(exitTab+'<tr class="tBodyTr"><td><input class="tBodyBaox" type="checkbox" name=""></td><td>'+gh+'</td><td class="tdName">'+name+'</td><td>'+shfb+'</td><td>'+xiala+'</td></tr>');
                }else{
                  cfgh=cfgh+gh+'.';
                };
            };
              ;
          }

        };
        if(cfgh!=""){
          alert("您添加的员工重复了！");
        }
        $('.yxk').html("");
        grayTd();
      });
      $('.quxiao').click(function(){
        $('.xzkRowBox').attr("checked",false);
        $('.hidPage').hide();
        $('.yxk').html("");
      });



      });
      function grayTd(){
        $('.pageTab tr:even').css("background-color","#f5f5f5");
      };


    </script>

  </head>
  <body class="grayBac">
    <div class="hidPage" class="hidPage">
      <div class="hidTop">
        <span class="tjgly">添加管理员</span>
      </div>
      <div class="hidBody">
        <div class=" hidBodyL">
          <span class="text1 qxzry">请选择人员</span>
          <div class="xzk">
            <div class="xzkRow">
              <span class="renyuan">薛敬德</span>
              <input class="xzkRowBox" type="checkbox" autocomplete="off"/>
            </div>
            <div class="xzkRow">
              <span class="renyuan">陈少波</span>
              <input class="xzkRowBox" type="checkbox" autocomplete="off"/>
            </div>
            <div class="xzkRow">
              <span class="renyuan">林星</span>
              <input class="xzkRowBox" type="checkbox" autocomplete="off"/>
            </div>
          </div>
        </div>
        <div class="hidBodyR">
          <span class="text1 yxz">已选择</span>
          <div class="yxk">
          </div>
        </div>
      </div>
      <div class="hidFoot">
        <div class="hidFootTop">
          <span class="fzdq">负责地区</span>
          <select class="selectCity" name="city">
            <option value="suzhou">苏州</option>
            <option value="shanghai">上海</option>
          </select>
        </div>
        <div class="hidFbtn">
          <button class="queding">确定</button> 
          <button class="quxiao">取消</button>
        </div>
      </div>        
    </div>
    <div id="container " class="container">
      <div id="header" class="header">
        <span class="wdl">未登录</span>
      </div>
      <div id="content" class="content">
      <div class="page">
        <div class="topPage"><span class="qxpz">权限配置</span></div>
        <div class="bottomPage">
          <div class="buttonList">
            <div class="button tianjia">
              <span class="icon icon-icon-an an"></span>
              <span class="iconTest">添加</span>
            </div>
            <span class="butLine"></span>
            <div class="button shanchu">
              <span class="icon icon-icon-ao ao"></span>
              <span class="iconTest">删除</span>
            </div>
          </div>

          <table class="pageTab" cellpadding="0" cellspacing="0">
            <thead>
              <tr class="thead">
                <th class="th1">#</th>
                <th class="th2">工号</th>
                <th class="th3">姓名</th>
                <th class="th4">所属分部</th>
                <th class="th5">负责地区</th>
              </tr>
            </thead>
            <tbody>
              <tr class="tBodyTr">
                <td><input class="tBodyBaox" type="checkbox" name=""></td>
                <td>000</td>
                <td class="tdName">张三</td>
                <td>装备解决方案0部</td>
                <td>上海</td>
              </tr>
            </tbody>          
          </table>
        </div>
      </div>
      </div>
    </div>
  </body>
</html>
